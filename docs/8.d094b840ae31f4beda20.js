(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{NIWt:function(t,e,n){"use strict";n.r(e),n.d(e,"HistoryModule",(function(){return w}));var i=n("ofXK"),c=n("tyNb"),o=n("lJxs"),r=n("wd/R"),a=n("fXoL"),s=n("Ks4N"),l=n("6psq");let d=(()=>{class t{transform(t,e){return t.pipe(Object(o.a)(t=>{switch(e.column){case"start_time":case"end_time":t.sort("ASC"===e.direction?(t,n)=>{let i=r(t[e.column]),c=r(n[e.column]);return i.unix()-c.unix()}:(t,n)=>{let i=r(t[e.column]);return r(n[e.column]).unix()-i.unix()});break;case"total_time":t.sort("ASC"===e.direction?(t,e)=>t.total_time-e.total_time:(t,e)=>e.total_time-t.total_time);break;case"difficulty":const n={easy:1,medium:2,hard:3};t.sort("ASC"===e.direction?(t,e)=>n[t.difficulty]-n[e.difficulty]:(t,e)=>n[e.difficulty]-n[t.difficulty]);break;case"state":let i={lost:1,won:2};t.sort("ASC"===e.direction?(t,e)=>i[t.state]-i[e.state]:(t,e)=>i[e.state]-i[t.state])}return t}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Hb({name:"tableorder",type:t,pure:!0}),t})();function m(t,e){if(1&t&&(a.Nb(0,"span",9),a.ic(1),a.Mb()),2&t){const t=a.Wb(2);a.xb(1),a.kc("keyboard_arrow_","ASC"===t.order.direction?"up":"down","")}}function b(t,e){if(1&t){const t=a.Ob();a.Nb(0,"div",7),a.Ub("click",(function(){a.ec(t);const n=e.$implicit;return a.Wb().order_by(n)})),a.Nb(1,"span"),a.ic(2),a.Mb(),a.hc(3,m,2,1,"span",8),a.Mb()}if(2&t){const t=e.$implicit,n=a.Wb();a.xb(2),a.jc(t.label),a.xb(1),a.ac("ngIf",t.key===n.order.column)}}function f(t,e){if(1&t&&(a.Lb(0),a.ic(1),a.Xb(2,"date"),a.Kb()),2&t){const t=a.Wb().$implicit,e=a.Wb().$implicit;a.xb(1),a.kc(" ",a.Zb(2,1,e[t.key],"MM-dd-yyyy hh:mm a")," ")}}function u(t,e){if(1&t&&(a.Lb(0),a.ic(1),a.Kb()),2&t){const t=a.Wb().$implicit,e=a.Wb().$implicit;a.xb(1),a.kc(" ",e[t.key].humanize()," ")}}function y(t,e){if(1&t&&(a.Lb(0),a.ic(1),a.Kb()),2&t){const t=a.Wb().$implicit,e=a.Wb().$implicit;a.xb(1),a.kc(" ",e[t.key]," ")}}function g(t,e){if(1&t&&(a.Nb(0,"div",12),a.Nb(1,"span"),a.hc(2,f,3,4,"ng-container",13),a.hc(3,u,2,1,"ng-container",13),a.hc(4,y,2,1,"ng-container",13),a.Mb(),a.Mb()),2&t){const t=e.$implicit,n=a.Wb().$implicit;a.xb(1),a.Ab("lost","state"===t.key&&"lost"===n[t.key])("won","state"===t.key&&"won"===n[t.key])("easy","difficulty"===t.key&&"easy"===n[t.key])("medium","difficulty"===t.key&&"medium"===n[t.key])("hard","difficulty"===t.key&&"hard"===n[t.key]),a.xb(1),a.ac("ngIf","start_time"===t.key||"end_time"===t.key),a.xb(1),a.ac("ngIf","total_time"===t.key),a.xb(1),a.ac("ngIf","state"===t.key||"difficulty"===t.key)}}function p(t,e){if(1&t&&(a.Nb(0,"div",10),a.hc(1,g,5,13,"div",11),a.Mb()),2&t){const t=a.Wb();a.xb(1),a.ac("ngForOf",t.columns)}}const h=[{path:"",component:(()=>{class t{constructor(t){this._game_service=t,this.columns=[{key:"state",label:"Status"},{key:"difficulty",label:"Difficulty"},{key:"start_time",label:"Start Time"},{key:"end_time",label:"End Time"},{key:"total_time",label:"Total time spent"}],this.order={column:"difficulty",direction:"ASC"}}ngOnInit(){this.game_history=this._game_service.game_history.pipe(Object(o.a)(t=>t.map(t=>{const e=r(t.start_time),n=r(t.end_time),i=r.duration(n.diff(e));return t.start_time=e,t.end_time=n,t.total_time=i,t})))}order_by(t){this.order=this.order.column===t.key?{column:t.key,direction:"DESC"===this.order.direction?"ASC":"DESC"}:{column:t.key,direction:"DESC"}}}return t.\u0275fac=function(e){return new(e||t)(a.Ib(s.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-table"]],decls:10,vars:7,consts:[["ui-card","",1,"history-card"],[1,"title"],[1,"content"],[1,"row","head"],["class","cell",3,"click",4,"ngFor","ngForOf"],[1,"body"],["class","row",4,"ngFor","ngForOf"],[1,"cell",3,"click"],["class","material-icons",4,"ngIf"],[1,"material-icons"],[1,"row"],["class","cell",4,"ngFor","ngForOf"],[1,"cell"],[4,"ngIf"]],template:function(t,e){1&t&&(a.Nb(0,"div",0),a.Nb(1,"div",1),a.ic(2," Game History "),a.Mb(),a.Nb(3,"div",2),a.Nb(4,"div",3),a.hc(5,b,4,2,"div",4),a.Mb(),a.Nb(6,"div",5),a.hc(7,p,2,1,"div",6),a.Xb(8,"async"),a.Xb(9,"tableorder"),a.Mb(),a.Mb(),a.Mb()),2&t&&(a.xb(5),a.ac("ngForOf",e.columns),a.xb(2),a.ac("ngForOf",a.Yb(8,2,a.Zb(9,4,e.game_history,e.order))))},directives:[l.a,i.k,i.l],pipes:[i.b,d,i.e],styles:["[_nghost-%COMP%]{align-items:center;justify-content:center}.history-card[_ngcontent-%COMP%], [_nghost-%COMP%]{width:100%;height:100%;display:flex;padding:1rem}.history-card[_ngcontent-%COMP%]{flex-direction:column;max-height:35rem;max-width:70rem;gap:1rem}.title[_ngcontent-%COMP%]{padding-top:1rem;font-weight:700}.content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;height:100%;align-items:center;justify-content:flex-start}.subtitle[_ngcontent-%COMP%]{width:100%;padding:.25rem;margin:1rem 0}.head[_ngcontent-%COMP%], .subtitle[_ngcontent-%COMP%]{border-bottom:1px solid #fff}.head[_ngcontent-%COMP%]{padding-bottom:.5rem}.head[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%;max-height:85%;overflow-y:auto;overflow-x:hidden}.row[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(5,20%);gap:.25rem}.cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;user-select:none}.cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lost[_ngcontent-%COMP%]{font-weight:700;color:var(--danger)}.easy[_ngcontent-%COMP%], .won[_ngcontent-%COMP%]{font-weight:700;color:var(--success)}.medium[_ngcontent-%COMP%]{color:var(--warning)}.hard[_ngcontent-%COMP%], .medium[_ngcontent-%COMP%]{font-weight:700}.hard[_ngcontent-%COMP%]{color:var(--danger)}"]}),t})()}];let _=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[c.c.forChild(h)],c.c]}),t})();var k=n("MH+I");let w=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[i.c,_,k.a]]}),t})()}}]);